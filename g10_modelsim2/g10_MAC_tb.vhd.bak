library ieee;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;
use STD.textio.all;
use ieee.std_logic_textio.all;

entity g10_MAC_tb is
end g10_MAC_tb;

architecture test of g10_MAC_tb is
		-----------------------------------------------------------------------------
		-- Declare the Component Under Test
		-----------------------------------------------------------------------------
		component g10_MAC is
			port (x		: in std_logic_vector(9 downto 0) ;
					y 		: in std_logic_vector(9 downto 0) ;
					N 		: in std_logic_vector(9 downto 0) ;
					clk 	: in std_logic;
					rst 	: in std_logic;
					mac 	: out std_logic_vector(20 downto 0) ;
					ready : out std_logic);
		end component g10_MAC;
		
		-----------------------------------------------------------------------------
		-- Test bench Internal Signals
		-----------------------------------------------------------------------------
		file fileVECTORSX	:	text;
		file fileVECTORSY	:	text;
		file fileRESULTS	:	text;
		
		constant clk_PERIOD	:	time	:=	100ns;
		
		signal x_in			: std_logic_vector(9 downto 0);
		signal y_in			: std_logic_vector(9 downto 0);
		signal N_in			: std_logic_vector(9 downto 0);
		signal clk_in		: std_logic;
		signal rst_in		: std_logic;
		signal mac_out		: std_logic_vector(20 downto 0);
		signal ready_out	: std_logic;

		
		begin
			-----------------------------------------------------------------------------
			-- Instantiate MAC
			-----------------------------------------------------------------------------
			g10_MAC_INST : g10_MAC
				port map(
					x => x_in,
					y => y_in,
					N => N_in,
					clk => clk_in,
					rst => rst_in,
					mac => mac_out,
					ready => ready_out
				);
				
			-----------------------------------------------------------------------------
			-- ClockGeneration
			-----------------------------------------------------------------------------
			clk_generation : process
				begin
					clk_in <='1';
					wait for clk_PERIOD / 2;
					clk_in <= '0';
					wait for clk_PERIOD / 2;
			end process clk_generation;
		
		
end architecture test;